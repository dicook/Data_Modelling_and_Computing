<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="author" content="Professor Di Cook, EBS, Monash U." />


<meta name="progressive" content="false" />
<meta name="allow-skip" content="false" />

<title>ETC1010: Data Modelling and Computing</title>


<!-- highlightjs -->
<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>


<link rel="stylesheet" href="css/logo.css" type="text/css" />

</head>

<body>



<div class="pageContent band">
<div class="bandContent page">

<div class="topics">

<div id="section-advanced-data-modeling" class="section level1">
<h1>Advanced data modeling</h1>
<div id="section-course-web-site" class="section level2">
<h2>Course web site</h2>
<p>This is a link to the course web site, in case you need to go back and forth between tutorial and web materials: <a href="http://dmac.dicook.org">http://dmac.dicook.org</a></p>
</div>
<div id="section-recap" class="section level2">
<h2>Recap</h2>
<p>To make a network analysis, you need</p>
<ul>
<li>an association matrix, that describes how nodes (vertices) are connected to each other</li>
<li>a layout algorithm to place the nodes optimally so that the fewest edges cross, or that the nodes that are most closely associated are near to each other.</li>
</ul>
</div>
<div id="section-quantitative-association-matrices" class="section level2">
<h2>Quantitative association matrices</h2>
<p>The previous association matrices were black and white:</p>
<p><img src="images/network_data.png" /></p>
<p>but you could have the association between nodes described as real numbers also. For example, these are the number of times that these people called each other in the last week:</p>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">Meg</th>
<th align="right">Tay</th>
<th align="right">Yat</th>
<th align="right">Zili</th>
<th align="right">Jess</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Meg</td>
<td align="right">0</td>
<td align="right">5</td>
<td align="right">4</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td>Tay</td>
<td align="right">5</td>
<td align="right">0</td>
<td align="right">4</td>
<td align="right">2</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td>Yat</td>
<td align="right">4</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td>Zili</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td>Jess</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p>We would need to turn this into an edge data set:</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["from"],"name":[1],"type":["chr"],"align":["left"]},{"label":["to"],"name":[2],"type":["chr"],"align":["left"]},{"label":["count"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Meg","2":"Meg","3":"0"},{"1":"Tay","2":"Meg","3":"5"},{"1":"Yat","2":"Meg","3":"4"},{"1":"Zili","2":"Meg","3":"1"},{"1":"Jess","2":"Meg","3":"1"},{"1":"Meg","2":"Tay","3":"5"},{"1":"Tay","2":"Tay","3":"0"},{"1":"Yat","2":"Tay","3":"4"},{"1":"Zili","2":"Tay","3":"2"},{"1":"Jess","2":"Tay","3":"1"},{"1":"Meg","2":"Yat","3":"4"},{"1":"Tay","2":"Yat","3":"4"},{"1":"Yat","2":"Yat","3":"0"},{"1":"Zili","2":"Yat","3":"0"},{"1":"Jess","2":"Yat","3":"0"},{"1":"Meg","2":"Zili","3":"1"},{"1":"Tay","2":"Zili","3":"2"},{"1":"Yat","2":"Zili","3":"0"},{"1":"Zili","2":"Zili","3":"0"},{"1":"Jess","2":"Zili","3":"6"},{"1":"Meg","2":"Jess","3":"1"},{"1":"Tay","2":"Jess","3":"1"},{"1":"Yat","2":"Jess","3":"0"},{"1":"Zili","2":"Jess","3":"6"},{"1":"Jess","2":"Jess","3":"0"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>and then decide what corresponds to a ‚Äúconnection‚Äù. Let‚Äôs say, they need to have called each other at least 4 times, to be considered connected.</p>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["from"],"name":[1],"type":["chr"],"align":["left"]},{"label":["to"],"name":[2],"type":["chr"],"align":["left"]},{"label":["count"],"name":[3],"type":["dbl"],"align":["right"]}],"data":[{"1":"Tay","2":"Meg","3":"5"},{"1":"Yat","2":"Meg","3":"4"},{"1":"Meg","2":"Tay","3":"5"},{"1":"Yat","2":"Tay","3":"4"},{"1":"Meg","2":"Yat","3":"4"},{"1":"Tay","2":"Yat","3":"4"},{"1":"Jess","2":"Zili","3":"6"},{"1":"Zili","2":"Jess","3":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>and then we can make the network diagram.</p>
<pre class="r"><code>library(geomnet)
set.seed(1110100)
ggplot(data = d_edges, aes(from_id = from, to_id = to)) +
  geom_net(layout.alg = &quot;kamadakawai&quot;,
    size = 2, labelon = TRUE, vjust = -0.6, ecolour = &quot;grey60&quot;,
    directed =FALSE, fontsize = 3, ealpha = 0.5) +
    theme_net() </code></pre>
<p><img src="lecture9b_networks_files/figure-html/unnamed-chunk-4-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<div id="section-data-last-4-months-of-currency-usd-cross-rates" class="section level2">
<h2>Data: Last 4 months of currency USD cross-rates</h2>
<p>üò® SO let‚Äôs try this with cross-currency rates across the globe!</p>
<ul>
<li>Data extracted from <a href="http://openexchangerates.org/api/historical" class="uri">http://openexchangerates.org/api/historical</a></li>
<li>R packages <code>jsonlite</code>, processed with <code>tidyverse</code>, <code>lubridate</code></li>
</ul>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["date"],"name":[1],"type":["date"],"align":["right"]},{"label":["AED"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["AFN"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["ALL"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["AMD"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["ANG"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["AOA"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["ARS"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["AUD"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["AWG"],"name":[10],"type":["dbl"],"align":["right"]},{"label":["AZN"],"name":[11],"type":["dbl"],"align":["right"]},{"label":["BAM"],"name":[12],"type":["dbl"],"align":["right"]},{"label":["BBD"],"name":[13],"type":["dbl"],"align":["right"]},{"label":["BDT"],"name":[14],"type":["dbl"],"align":["right"]},{"label":["BGN"],"name":[15],"type":["dbl"],"align":["right"]},{"label":["BHD"],"name":[16],"type":["dbl"],"align":["right"]},{"label":["BIF"],"name":[17],"type":["dbl"],"align":["right"]},{"label":["BMD"],"name":[18],"type":["dbl"],"align":["right"]},{"label":["BND"],"name":[19],"type":["dbl"],"align":["right"]},{"label":["BOB"],"name":[20],"type":["dbl"],"align":["right"]},{"label":["BRL"],"name":[21],"type":["dbl"],"align":["right"]},{"label":["BSD"],"name":[22],"type":["dbl"],"align":["right"]},{"label":["BTC"],"name":[23],"type":["dbl"],"align":["right"]},{"label":["BTN"],"name":[24],"type":["dbl"],"align":["right"]},{"label":["BWP"],"name":[25],"type":["dbl"],"align":["right"]},{"label":["BYN"],"name":[26],"type":["dbl"],"align":["right"]},{"label":["BZD"],"name":[27],"type":["dbl"],"align":["right"]},{"label":["CAD"],"name":[28],"type":["dbl"],"align":["right"]},{"label":["CDF"],"name":[29],"type":["dbl"],"align":["right"]},{"label":["CHF"],"name":[30],"type":["dbl"],"align":["right"]},{"label":["CLF"],"name":[31],"type":["dbl"],"align":["right"]},{"label":["CLP"],"name":[32],"type":["dbl"],"align":["right"]},{"label":["CNH"],"name":[33],"type":["dbl"],"align":["right"]},{"label":["CNY"],"name":[34],"type":["dbl"],"align":["right"]},{"label":["COP"],"name":[35],"type":["dbl"],"align":["right"]},{"label":["CRC"],"name":[36],"type":["dbl"],"align":["right"]},{"label":["CUC"],"name":[37],"type":["dbl"],"align":["right"]},{"label":["CUP"],"name":[38],"type":["dbl"],"align":["right"]},{"label":["CVE"],"name":[39],"type":["dbl"],"align":["right"]},{"label":["CZK"],"name":[40],"type":["dbl"],"align":["right"]},{"label":["DJF"],"name":[41],"type":["dbl"],"align":["right"]},{"label":["DKK"],"name":[42],"type":["dbl"],"align":["right"]},{"label":["DOP"],"name":[43],"type":["dbl"],"align":["right"]},{"label":["DZD"],"name":[44],"type":["dbl"],"align":["right"]},{"label":["EGP"],"name":[45],"type":["dbl"],"align":["right"]},{"label":["ERN"],"name":[46],"type":["dbl"],"align":["right"]},{"label":["ETB"],"name":[47],"type":["dbl"],"align":["right"]},{"label":["EUR"],"name":[48],"type":["dbl"],"align":["right"]},{"label":["FJD"],"name":[49],"type":["dbl"],"align":["right"]},{"label":["FKP"],"name":[50],"type":["dbl"],"align":["right"]},{"label":["GBP"],"name":[51],"type":["dbl"],"align":["right"]},{"label":["GEL"],"name":[52],"type":["dbl"],"align":["right"]},{"label":["GGP"],"name":[53],"type":["dbl"],"align":["right"]},{"label":["GHS"],"name":[54],"type":["dbl"],"align":["right"]},{"label":["GIP"],"name":[55],"type":["dbl"],"align":["right"]},{"label":["GMD"],"name":[56],"type":["dbl"],"align":["right"]},{"label":["GNF"],"name":[57],"type":["dbl"],"align":["right"]},{"label":["GTQ"],"name":[58],"type":["dbl"],"align":["right"]},{"label":["GYD"],"name":[59],"type":["dbl"],"align":["right"]},{"label":["HKD"],"name":[60],"type":["dbl"],"align":["right"]},{"label":["HNL"],"name":[61],"type":["dbl"],"align":["right"]},{"label":["HRK"],"name":[62],"type":["dbl"],"align":["right"]},{"label":["HTG"],"name":[63],"type":["dbl"],"align":["right"]},{"label":["HUF"],"name":[64],"type":["dbl"],"align":["right"]},{"label":["IDR"],"name":[65],"type":["dbl"],"align":["right"]},{"label":["ILS"],"name":[66],"type":["dbl"],"align":["right"]},{"label":["IMP"],"name":[67],"type":["dbl"],"align":["right"]},{"label":["INR"],"name":[68],"type":["dbl"],"align":["right"]},{"label":["IQD"],"name":[69],"type":["dbl"],"align":["right"]},{"label":["IRR"],"name":[70],"type":["dbl"],"align":["right"]},{"label":["ISK"],"name":[71],"type":["dbl"],"align":["right"]},{"label":["JEP"],"name":[72],"type":["dbl"],"align":["right"]},{"label":["JMD"],"name":[73],"type":["dbl"],"align":["right"]},{"label":["JOD"],"name":[74],"type":["dbl"],"align":["right"]},{"label":["JPY"],"name":[75],"type":["dbl"],"align":["right"]},{"label":["KES"],"name":[76],"type":["dbl"],"align":["right"]},{"label":["KGS"],"name":[77],"type":["dbl"],"align":["right"]},{"label":["KHR"],"name":[78],"type":["dbl"],"align":["right"]},{"label":["KMF"],"name":[79],"type":["dbl"],"align":["right"]},{"label":["KPW"],"name":[80],"type":["dbl"],"align":["right"]},{"label":["KRW"],"name":[81],"type":["dbl"],"align":["right"]},{"label":["KWD"],"name":[82],"type":["dbl"],"align":["right"]},{"label":["KYD"],"name":[83],"type":["dbl"],"align":["right"]},{"label":["KZT"],"name":[84],"type":["dbl"],"align":["right"]},{"label":["LAK"],"name":[85],"type":["dbl"],"align":["right"]},{"label":["LBP"],"name":[86],"type":["dbl"],"align":["right"]},{"label":["LKR"],"name":[87],"type":["dbl"],"align":["right"]},{"label":["LRD"],"name":[88],"type":["dbl"],"align":["right"]},{"label":["LSL"],"name":[89],"type":["dbl"],"align":["right"]},{"label":["LYD"],"name":[90],"type":["dbl"],"align":["right"]},{"label":["MAD"],"name":[91],"type":["dbl"],"align":["right"]},{"label":["MDL"],"name":[92],"type":["dbl"],"align":["right"]},{"label":["MGA"],"name":[93],"type":["dbl"],"align":["right"]},{"label":["MKD"],"name":[94],"type":["dbl"],"align":["right"]},{"label":["MMK"],"name":[95],"type":["dbl"],"align":["right"]},{"label":["MNT"],"name":[96],"type":["dbl"],"align":["right"]},{"label":["MOP"],"name":[97],"type":["dbl"],"align":["right"]},{"label":["MRO"],"name":[98],"type":["dbl"],"align":["right"]},{"label":["MRU"],"name":[99],"type":["dbl"],"align":["right"]},{"label":["MUR"],"name":[100],"type":["dbl"],"align":["right"]},{"label":["MVR"],"name":[101],"type":["dbl"],"align":["right"]},{"label":["MWK"],"name":[102],"type":["dbl"],"align":["right"]},{"label":["MXN"],"name":[103],"type":["dbl"],"align":["right"]},{"label":["MYR"],"name":[104],"type":["dbl"],"align":["right"]},{"label":["MZN"],"name":[105],"type":["dbl"],"align":["right"]},{"label":["NAD"],"name":[106],"type":["dbl"],"align":["right"]},{"label":["NGN"],"name":[107],"type":["dbl"],"align":["right"]},{"label":["NIO"],"name":[108],"type":["dbl"],"align":["right"]},{"label":["NOK"],"name":[109],"type":["dbl"],"align":["right"]},{"label":["NPR"],"name":[110],"type":["dbl"],"align":["right"]},{"label":["NZD"],"name":[111],"type":["dbl"],"align":["right"]},{"label":["OMR"],"name":[112],"type":["dbl"],"align":["right"]},{"label":["PAB"],"name":[113],"type":["dbl"],"align":["right"]},{"label":["PEN"],"name":[114],"type":["dbl"],"align":["right"]},{"label":["PGK"],"name":[115],"type":["dbl"],"align":["right"]},{"label":["PHP"],"name":[116],"type":["dbl"],"align":["right"]},{"label":["PKR"],"name":[117],"type":["dbl"],"align":["right"]},{"label":["PLN"],"name":[118],"type":["dbl"],"align":["right"]},{"label":["PYG"],"name":[119],"type":["dbl"],"align":["right"]},{"label":["QAR"],"name":[120],"type":["dbl"],"align":["right"]},{"label":["RON"],"name":[121],"type":["dbl"],"align":["right"]},{"label":["RSD"],"name":[122],"type":["dbl"],"align":["right"]},{"label":["RUB"],"name":[123],"type":["dbl"],"align":["right"]},{"label":["RWF"],"name":[124],"type":["dbl"],"align":["right"]},{"label":["SAR"],"name":[125],"type":["dbl"],"align":["right"]},{"label":["SBD"],"name":[126],"type":["dbl"],"align":["right"]},{"label":["SCR"],"name":[127],"type":["dbl"],"align":["right"]},{"label":["SDG"],"name":[128],"type":["dbl"],"align":["right"]},{"label":["SEK"],"name":[129],"type":["dbl"],"align":["right"]},{"label":["SGD"],"name":[130],"type":["dbl"],"align":["right"]},{"label":["SHP"],"name":[131],"type":["dbl"],"align":["right"]},{"label":["SLL"],"name":[132],"type":["dbl"],"align":["right"]},{"label":["SOS"],"name":[133],"type":["dbl"],"align":["right"]},{"label":["SRD"],"name":[134],"type":["dbl"],"align":["right"]},{"label":["SSP"],"name":[135],"type":["dbl"],"align":["right"]},{"label":["STD"],"name":[136],"type":["dbl"],"align":["right"]},{"label":["STN"],"name":[137],"type":["dbl"],"align":["right"]},{"label":["SVC"],"name":[138],"type":["dbl"],"align":["right"]},{"label":["SYP"],"name":[139],"type":["dbl"],"align":["right"]},{"label":["SZL"],"name":[140],"type":["dbl"],"align":["right"]},{"label":["THB"],"name":[141],"type":["dbl"],"align":["right"]},{"label":["TJS"],"name":[142],"type":["dbl"],"align":["right"]},{"label":["TMT"],"name":[143],"type":["dbl"],"align":["right"]},{"label":["TND"],"name":[144],"type":["dbl"],"align":["right"]},{"label":["TOP"],"name":[145],"type":["dbl"],"align":["right"]},{"label":["TRY"],"name":[146],"type":["dbl"],"align":["right"]},{"label":["TTD"],"name":[147],"type":["dbl"],"align":["right"]},{"label":["TWD"],"name":[148],"type":["dbl"],"align":["right"]},{"label":["TZS"],"name":[149],"type":["dbl"],"align":["right"]},{"label":["UAH"],"name":[150],"type":["dbl"],"align":["right"]},{"label":["UGX"],"name":[151],"type":["dbl"],"align":["right"]},{"label":["USD"],"name":[152],"type":["dbl"],"align":["right"]},{"label":["UYU"],"name":[153],"type":["dbl"],"align":["right"]},{"label":["UZS"],"name":[154],"type":["dbl"],"align":["right"]},{"label":["VEF"],"name":[155],"type":["dbl"],"align":["right"]},{"label":["VND"],"name":[156],"type":["dbl"],"align":["right"]},{"label":["VUV"],"name":[157],"type":["dbl"],"align":["right"]},{"label":["WST"],"name":[158],"type":["dbl"],"align":["right"]},{"label":["XAF"],"name":[159],"type":["dbl"],"align":["right"]},{"label":["XAG"],"name":[160],"type":["dbl"],"align":["right"]},{"label":["XAU"],"name":[161],"type":["dbl"],"align":["right"]},{"label":["XCD"],"name":[162],"type":["dbl"],"align":["right"]},{"label":["XDR"],"name":[163],"type":["dbl"],"align":["right"]},{"label":["XOF"],"name":[164],"type":["dbl"],"align":["right"]},{"label":["XPD"],"name":[165],"type":["dbl"],"align":["right"]},{"label":["XPF"],"name":[166],"type":["dbl"],"align":["right"]},{"label":["XPT"],"name":[167],"type":["dbl"],"align":["right"]},{"label":["YER"],"name":[168],"type":["dbl"],"align":["right"]},{"label":["ZAR"],"name":[169],"type":["dbl"],"align":["right"]},{"label":["ZMW"],"name":[170],"type":["dbl"],"align":["right"]},{"label":["ZWL"],"name":[171],"type":["dbl"],"align":["right"]}],"data":[{"1":"2018-05-14","2":"3.673014","3":"71.22388","4":"106.2047","5":"485.3959","6":"1.794197","7":"230.0525","8":"24.999","9":"1.328744","10":"1.792495","11":"1.7025","12":"1.631559","13":"2","14":"84.73739","15":"1.637605","16":"0.377163","17":"1766.580","18":"1","19":"1.3317","20":"6.903024","21":"3.621850","22":"1","23":"0.0001153454","24":"67.55530","25":"9.799540","26":"1.996288","27":"2.009100","28":"1.280082","29":"1614.161","30":"1.000525","31":"0.02288","32":"625.4000","33":"6.338600","34":"6.3398","35":"2817.46","36":"566.4526","37":"1","38":"25.5","39":"92.31925","40":"21.37390","41":"177.8750","42":"6.243440","43":"49.54957","44":"115.4540","45":"17.8315","46":"14.99677","47":"27.50757","48":"0.838135","49":"2.081247","50":"0.737377","51":"0.737377","52":"2.439517","53":"0.737377","54":"4.540006","55":"0.737377","56":"47.18333","57":"9017.45","58":"7.424057","59":"208.6376","60":"7.84975","61":"23.74836","62":"6.188000","63":"64.88263","64":"264.4650","65":"13969.63","66":"3.593975","67":"0.737377","68":"67.68800","69":"1189.991","70":"42021.67","71":"102.7800","72":"0.737377","73":"125.5475","74":"0.709503","75":"109.7330","76":"100.4035","77":"68.52530","78":"4070.363","79":"412.0434","80":"900","81":"1070.17","82":"0.301511","83":"0.832947","84":"328.3212","85":"8336.883","86":"1511.150","87":"157.8351","88":"132.3821","89":"12.28312","90":"1.351821","91":"9.365554","92":"16.50311","93":"3249.028","94":"51.60514","95":"1347.974","96":"2397.583","97":"8.081332","98":"356.50","99":"35.710","100":"34.44400","101":"15.50004","102":"719.8750","103":"19.59100","104":"3.954000","105":"60.26900","106":"12.27665","107":"360.2593","108":"31.32244","109":"8.034550","110":"108.0747","111":"1.445736","112":"0.385007","113":"1","114":"3.258294","115":"3.289488","116":"52.39717","117":"115.6775","118":"3.580075","119":"5602.900","120":"3.641124","121":"3.875087","122":"98.99400","123":"61.8579","124":"867.6533","125":"3.74990","126":"7.817640","127":"14.03455","128":"18.05263","129":"8.639641","130":"1.335899","131":"0.737377","132":"7787.651","133":"575.8490","134":"7.468","135":"130.2634","136":"20531.67","137":"20.52000","138":"8.745823","139":"514.995","140":"12.28601","141":"31.9100","142":"8.950909","143":"3.499986","144":"2.512602","145":"2.271154","146":"4.355076","147":"6.735544","148":"29.79500","149":"2282.60","150":"26.15671","151":"3712.300","152":"1","153":"30.23338","154":"8027.100","155":"69912.50","156":"22767.36","157":"107.0735","158":"2.565650","159":"549.7806","160":"0.06048884","161":"0.00076114","162":"2.70255","163":"0.698285","164":"549.7806","165":"0.00100107","166":"100.0161","167":"0.00109773","168":"250.3566","169":"12.33263","170":"9.900584","171":"322.355"},{"1":"2018-05-15","2":"3.673097","3":"71.19617","4":"107.0336","5":"484.5824","6":"1.795750","7":"229.7065","8":"24.059","9":"1.339056","10":"1.787082","11":"1.7025","12":"1.641728","13":"2","14":"84.83877","15":"1.653967","16":"0.377146","17":"1772.550","18":"1","19":"1.3317","20":"6.912789","21":"3.653050","22":"1","23":"0.0001178723","24":"67.99115","25":"9.895531","26":"2.004820","27":"2.010792","28":"1.287268","29":"1614.161","30":"1.001419","31":"0.02314","32":"632.0284","33":"6.369413","34":"6.3790","35":"2853.77","36":"566.6901","37":"1","38":"25.5","39":"93.57575","40":"21.62605","41":"178.0500","42":"6.301609","43":"49.53114","44":"115.8954","45":"17.8270","46":"15.09583","47":"27.51843","48":"0.846005","49":"2.090797","50":"0.740658","51":"0.740658","52":"2.432695","53":"0.740658","54":"4.558111","55":"0.740658","56":"47.18250","57":"9021.95","58":"7.430525","59":"209.1236","60":"7.85025","61":"23.78574","62":"6.246300","63":"64.70194","64":"267.8107","65":"14021.94","66":"3.598795","67":"0.740658","68":"68.48000","69":"1190.601","70":"42019.22","71":"103.8300","72":"0.740658","73":"125.3898","74":"0.709804","75":"110.2983","76":"100.3970","77":"68.45955","78":"4074.103","79":"411.4500","80":"900","81":"1079.81","82":"0.301803","83":"0.833703","84":"328.4329","85":"8340.583","86":"1519.883","87":"158.1100","88":"132.4503","89":"12.50220","90":"1.350568","91":"9.416814","92":"16.53039","93":"3248.598","94":"52.04505","95":"1349.324","96":"2397.831","97":"8.088592","98":"356.00","99":"35.710","100":"34.50300","101":"15.50004","102":"721.6059","103":"19.69456","104":"3.956011","105":"60.33469","106":"12.27357","107":"360.1223","108":"31.36394","109":"8.128940","110":"108.8212","111":"1.457014","112":"0.384980","113":"1","114":"3.270040","115":"3.271870","116":"52.56242","117":"115.7702","118":"3.637400","119":"5659.152","120":"3.640999","121":"3.923068","122":"99.91600","123":"62.2706","124":"866.2163","125":"3.75040","126":"7.827891","127":"13.74933","128":"18.07374","129":"8.697723","130":"1.345451","131":"0.740658","132":"7779.268","133":"576.9440","134":"7.468","135":"130.2634","136":"20613.60","137":"20.69000","138":"8.753445","139":"514.945","140":"12.50303","141":"32.1430","142":"8.963829","143":"3.499986","144":"2.512505","145":"2.297424","146":"4.454745","147":"6.742743","148":"29.90092","149":"2281.30","150":"26.21708","151":"3715.550","152":"1","153":"30.55651","154":"8029.250","155":"69912.50","156":"22766.77","157":"108.4802","158":"2.574691","159":"554.9431","160":"0.06142704","161":"0.00077354","162":"2.70255","163":"0.699230","164":"554.9431","165":"0.00101691","166":"100.9553","167":"0.00111002","168":"250.3616","169":"12.57958","170":"9.969154","171":"322.355"},{"1":"2018-05-16","2":"3.673181","3":"70.97950","4":"107.9700","5":"484.3732","6":"1.795703","7":"232.1595","8":"24.268","9":"1.330436","10":"1.787082","11":"1.7025","12":"1.659388","13":"2","14":"84.83974","15":"1.655625","16":"0.377640","17":"1758.788","18":"1","19":"1.3317","20":"6.912871","21":"3.675900","22":"1","23":"0.0001198732","24":"67.83028","25":"9.930313","26":"2.003332","27":"2.010946","28":"1.278407","29":"1613.323","30":"1.000623","31":"0.02309","32":"630.9211","33":"6.351900","34":"6.3713","35":"2899.16","36":"566.4026","37":"1","38":"25.5","39":"93.55850","40":"21.59725","41":"178.0500","42":"6.303450","43":"49.59955","44":"116.0230","45":"17.8780","46":"14.99773","47":"27.53334","48":"0.846395","49":"2.085545","50":"0.738158","51":"0.738158","52":"2.432934","53":"0.738158","54":"4.587044","55":"0.738158","56":"47.19500","57":"9026.15","58":"7.430813","59":"208.9830","60":"7.84964","61":"23.78281","62":"6.248700","63":"64.54583","64":"267.4030","65":"14084.06","66":"3.584210","67":"0.738158","68":"67.77500","69":"1192.451","70":"42024.16","71":"104.2900","72":"0.738158","73":"125.5039","74":"0.709503","75":"110.3701","76":"100.3955","77":"68.37915","78":"4074.492","79":"411.4500","80":"900","81":"1077.49","82":"0.301926","83":"0.833755","84":"329.1875","85":"8334.450","86":"1513.575","87":"158.2433","88":"132.4503","89":"12.53831","90":"1.353384","91":"9.422141","92":"16.57422","93":"3279.570","94":"52.11550","95":"1351.598","96":"2398.089","97":"8.088800","98":"356.00","99":"35.710","100":"34.24750","101":"15.50004","102":"719.9450","103":"19.58010","104":"3.967500","105":"60.13000","106":"12.27215","107":"360.1650","108":"31.37334","109":"8.068640","110":"108.5550","111":"1.448635","112":"0.384948","113":"1","114":"3.271760","115":"3.265933","116":"52.19000","117":"115.7280","118":"3.616525","119":"5661.877","120":"3.641361","121":"3.922891","122":"99.98124","123":"61.6845","124":"869.6717","125":"3.75035","126":"7.818435","127":"13.45350","128":"18.07350","129":"8.694556","130":"1.339847","131":"0.738158","132":"7702.756","133":"578.6138","134":"7.468","135":"130.2634","136":"20659.14","137":"20.69000","138":"8.754432","139":"515.045","140":"12.53800","141":"32.0000","142":"8.979121","143":"3.499986","144":"2.515100","145":"2.295033","146":"4.429838","147":"6.742800","148":"29.84192","149":"2281.80","150":"26.24140","151":"3746.064","152":"1","153":"30.56719","154":"8029.100","155":"69912.50","156":"22770.23","157":"107.3500","158":"2.581428","159":"555.1987","160":"0.06106884","161":"0.00077413","162":"2.70255","163":"0.700721","164":"555.1987","165":"0.00101383","166":"101.0018","167":"0.00111120","168":"250.3616","169":"12.43350","170":"10.054833","171":"322.355"},{"1":"2018-05-17","2":"3.673181","3":"70.96700","4":"107.7775","5":"483.1400","6":"1.795416","7":"232.9660","8":"24.309","9":"1.332636","10":"1.787082","11":"1.7025","12":"1.658900","13":"2","14":"84.81570","15":"1.656230","16":"0.377484","17":"1758.638","18":"1","19":"1.3285","20":"6.911707","21":"3.696600","22":"1","23":"0.0001239274","24":"67.69251","25":"9.923327","26":"1.999495","27":"2.010510","28":"1.283554","29":"1613.323","30":"1.001760","31":"0.02315","32":"631.8106","33":"6.358647","34":"6.3678","35":"2899.16","36":"566.4701","37":"1","38":"25.5","39":"93.52850","40":"21.69480","41":"178.0500","42":"6.316990","43":"49.59942","44":"116.0342","45":"17.8090","46":"14.99647","47":"27.52655","48":"0.848212","49":"2.087302","50":"0.740078","51":"0.740078","52":"2.440583","53":"0.740078","54":"4.533803","55":"0.740078","56":"47.19500","57":"9028.20","58":"7.431884","59":"208.8430","60":"7.84980","61":"23.78989","62":"6.259231","63":"64.34553","64":"269.1100","65":"14055.29","66":"3.589575","67":"0.740078","68":"67.76932","69":"1192.351","70":"42020.92","71":"104.3202","72":"0.740078","73":"125.6561","74":"0.709503","75":"110.8485","76":"100.4045","77":"68.43667","78":"4072.217","79":"411.4500","80":"900","81":"1081.92","82":"0.302017","83":"0.833599","84":"327.8702","85":"8334.150","86":"1508.950","87":"157.9411","88":"132.4503","89":"12.52888","90":"1.357532","91":"9.434500","92":"16.64596","93":"3262.685","94":"52.22550","95":"1351.724","96":"2398.430","97":"8.087353","98":"356.00","99":"35.710","100":"34.39850","101":"15.50004","102":"719.7658","103":"19.75838","104":"3.972038","105":"60.12500","106":"12.52888","107":"359.8489","108":"31.37292","109":"8.132417","110":"108.3168","111":"1.452855","112":"0.384945","113":"1","114":"3.274889","115":"3.265394","116":"52.25800","117":"115.8174","118":"3.644750","119":"5670.427","120":"3.641900","121":"3.930989","122":"100.18017","123":"62.1670","124":"870.3367","125":"3.74975","126":"7.826400","127":"13.45500","128":"18.07036","129":"8.742580","130":"1.342370","131":"0.740078","132":"7779.820","133":"578.5351","134":"7.468","135":"130.2634","136":"20743.32","137":"20.69000","138":"8.752232","139":"514.980","140":"12.52282","141":"32.0700","142":"8.980792","143":"3.499986","144":"2.520706","145":"2.295997","146":"4.462446","147":"6.741727","148":"29.91100","149":"2282.25","150":"26.18691","151":"3720.850","152":"1","153":"30.76794","154":"8020.310","155":"69912.50","156":"22780.51","157":"108.2952","158":"2.578285","159":"556.3909","160":"0.06087900","161":"0.00077542","162":"2.70255","163":"0.700729","164":"556.3909","165":"0.00101951","166":"101.2187","167":"0.00112297","168":"250.3616","169":"12.60476","170":"10.117714","171":"322.355"},{"1":"2018-05-18","2":"3.673175","3":"70.95600","4":"108.0700","5":"482.6063","6":"1.795163","7":"233.0350","8":"24.362","9":"1.331400","10":"1.786250","11":"1.7025","12":"1.660281","13":"2","14":"84.80595","15":"1.660310","16":"0.377419","17":"1762.050","18":"1","19":"1.3294","20":"6.910671","21":"3.737984","22":"1","23":"0.0001213736","24":"68.01484","25":"9.933274","26":"1.994692","27":"2.010235","28":"1.289324","29":"1613.323","30":"0.998440","31":"0.02326","32":"637.5000","33":"6.360356","34":"6.3781","35":"2904.90","36":"565.3177","37":"1","38":"25.5","39":"93.60450","40":"21.78110","41":"177.5850","42":"6.326800","43":"49.58500","44":"116.1645","45":"17.7770","46":"15.09660","47":"27.52076","48":"0.848210","49":"2.086848","50":"0.742395","51":"0.742395","52":"2.444915","53":"0.742395","54":"4.533600","55":"0.742395","56":"47.19500","57":"9025.90","58":"7.435719","59":"209.1161","60":"7.85025","61":"23.80130","62":"6.273400","63":"64.41674","64":"270.3200","65":"14127.53","66":"3.592160","67":"0.742395","68":"67.98500","69":"1193.300","70":"42021.42","71":"104.8637","72":"0.742395","73":"125.9169","74":"0.709503","75":"110.8034","76":"100.4485","77":"68.43443","78":"4072.267","79":"415.4550","80":"900","81":"1081.37","82":"0.302017","83":"0.833423","84":"328.8200","85":"8332.600","86":"1513.150","87":"157.7600","88":"133.2158","89":"12.68613","90":"1.358136","91":"9.447083","92":"16.67093","93":"3245.300","94":"52.31500","95":"1351.724","96":"2400.033","97":"8.085717","98":"355.65","99":"35.565","100":"34.60050","101":"15.57750","102":"720.1200","103":"19.95280","104":"3.972038","105":"60.10000","106":"12.27215","107":"360.0350","108":"31.38309","109":"8.114579","110":"108.3118","111":"1.446150","112":"0.384945","113":"1","114":"3.289550","115":"3.265350","116":"52.20569","117":"115.7800","118":"3.655505","119":"5622.450","120":"3.640999","121":"3.935610","122":"100.37968","123":"62.3224","124":"869.3350","125":"3.74975","126":"7.826400","127":"13.45568","128":"18.06722","129":"8.752800","130":"1.342823","131":"0.742395","132":"7775.560","133":"578.5950","134":"7.468","135":"130.2634","136":"20759.06","137":"20.71141","138":"8.751041","139":"514.985","140":"12.68855","141":"32.1325","142":"8.979914","143":"3.466667","144":"2.525998","145":"2.283458","146":"4.490953","147":"6.740950","148":"29.94557","149":"2280.40","150":"26.18650","151":"3717.300","152":"1","153":"31.37566","154":"8020.135","155":"69883.34","156":"22778.15","157":"108.0551","158":"2.575346","159":"556.3893","160":"0.06079453","161":"0.00077322","162":"2.70255","163":"0.701027","164":"556.3893","165":"0.00103326","166":"101.2184","167":"0.00112676","168":"250.0591","169":"12.77130","170":"10.151000","171":"322.355"},{"1":"2018-05-19","2":"3.673175","3":"70.89600","4":"107.7900","5":"482.2250","6":"1.793648","7":"233.0350","8":"24.362","9":"1.331204","10":"1.786250","11":"1.7025","12":"1.658809","13":"2","14":"84.80595","15":"1.659175","16":"0.377419","17":"1760.550","18":"1","19":"1.3294","20":"6.904588","21":"3.737490","22":"1","23":"0.0001213356","24":"68.01484","25":"9.977380","26":"1.992952","27":"2.008492","28":"1.289524","29":"1613.323","30":"0.998625","31":"0.02326","32":"637.5000","33":"6.360341","34":"6.3789","35":"2902.70","36":"564.8850","37":"1","38":"25.5","39":"93.60450","40":"21.78140","41":"177.5854","42":"6.326800","43":"49.55122","44":"115.9450","45":"17.7770","46":"15.09660","47":"27.52076","48":"0.848140","49":"2.087303","50":"0.742475","51":"0.742475","52":"2.446667","53":"0.742475","54":"4.533600","55":"0.742475","56":"47.19500","57":"9025.90","58":"7.429178","59":"208.9255","60":"7.85025","61":"23.78256","62":"6.273400","63":"64.34778","64":"270.3200","65":"14140.74","66":"3.592160","67":"0.742475","68":"67.98500","69":"1192.250","70":"42021.49","71":"104.8637","72":"0.742475","73":"125.8055","74":"0.709504","75":"110.7608","76":"100.2560","77":"68.45000","78":"4056.800","79":"415.5911","80":"900","81":"1081.37","82":"0.302017","83":"0.832707","84":"328.8200","85":"8325.550","86":"1511.800","87":"157.7826","88":"133.4341","89":"12.67487","90":"1.356942","91":"9.430664","92":"16.67093","93":"3245.300","94":"52.31500","95":"1351.950","96":"2401.060","97":"8.079000","98":"355.65","99":"35.565","100":"34.57432","101":"15.57739","102":"720.1200","103":"19.95280","104":"3.972038","105":"60.10000","106":"12.27215","107":"360.0350","108":"31.35483","109":"8.115000","110":"108.7271","111":"1.446150","112":"0.384940","113":"1","114":"3.289550","115":"3.262633","116":"52.40100","117":"115.6904","118":"3.655505","119":"5617.650","120":"3.638200","121":"3.935613","122":"100.37000","123":"62.3224","124":"868.5800","125":"3.74960","126":"7.826400","127":"13.42983","128":"18.06722","129":"8.752700","130":"1.342900","131":"0.742475","132":"7788.750","133":"578.0950","134":"7.468","135":"130.2634","136":"20767.49","137":"20.72828","138":"8.743389","139":"514.985","140":"12.67742","141":"32.1835","142":"8.971960","143":"3.466667","144":"2.525998","145":"2.289581","146":"4.489359","147":"6.734786","148":"29.94541","149":"2280.40","150":"26.12512","151":"3714.100","152":"1","153":"30.74044","154":"8019.600","155":"69883.34","156":"22782.50","157":"108.7667","158":"2.582033","159":"556.3437","160":"0.06079453","161":"0.00077322","162":"2.70255","163":"0.701027","164":"556.3437","165":"0.00103326","166":"101.2101","167":"0.00112676","168":"250.0528","169":"12.77126","170":"10.151000","171":"322.355"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><img src="lecture9b_networks_files/figure-html/unnamed-chunk-5-1.png" width="480" style="display: block; margin: auto;" /></p>
<div id="section-your-turn" class="section level3">
<h3>Your turn</h3>
<p>Make some plots (or google) to answer these questions</p>
<ul>
<li>Is the NZD more similar to AUD, EUR, or JPY? (What currency is NZD?)</li>
<li>Is SGD more similar to AUD, EUR, or JPY? (What currency is SGD?)</li>
<li>How many currencies are there in the British Isles?</li>
</ul>
<pre class="r"><code>p1 &lt;- ggplot(ru, aes(x=date, y=AUD)) + geom_line()
p2 &lt;- ggplot(ru, aes(x=date, y=EUR)) + geom_line()
p3 &lt;- ggplot(ru, aes(x=date, y=JPY)) + geom_line()
p4 &lt;- ggplot(ru, aes(x=date, y=SGD)) + geom_line()
grid.arrange(p1, p2, p3, p4, ncol=2)</code></pre>
<p><img src="lecture9b_networks_files/figure-html/unnamed-chunk-6-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="section-pre-processing-data" class="section level2">
<h2>Pre-processing data</h2>
<div id="section-keep-only-currencies-that-change-over-the-period" class="section level3">
<h3>Keep only currencies that change over the period</h3>
<p>Some currencies don‚Äôt change very much. These should be filtered from the analysis, because in a study of currency movement, if it doesn‚Äôt move then there is nothing more to be said.</p>
<p>To filter out these currencies we use a statistic called <a href="https://en.wikipedia.org/wiki/Coefficient_of_variation">coefficient of variation</a>. This measures the standard deviation of a currency relative to its mean. If a mean is high, we would expect a currency to change more, that is, relatively the standard deviation would be larger to consider it to be changing.</p>
<pre class="r"><code># Compute coefficient of variation. We will only analyse 
# currencies that have changes substantially over this time.
# Dates dropped
cv &lt;- function(x) sd(x)/mean(x)
s &lt;- ru %&gt;% select(-date) %&gt;%
  summarise_all(funs(cv)) %&gt;%
  gather(curr, cv) %&gt;%
  filter(cv &gt; 0.0027)
ru_sub &lt;- ru %&gt;% select(s$curr)</code></pre>
</div>
<div id="section-remove-currencies-that-are-not-currencies" class="section level3">
<h3>Remove currencies that are not currencies</h3>
<p>Some of the currencies, are not really currencies. Google these ones: ALL, XAG, XDR, XPT - what are they?</p>
<pre class="r"><code># Remove non-currencies
ru_sub &lt;- ru_sub %&gt;% select(-ALL, -XAG, -XDR, -XPT)</code></pre>
</div>
<div id="section-standardize-the-currencies" class="section level3">
<h3>Standardize the currencies</h3>
<p>To examine overall trend regardless of actual USD cross rate, standardise the values to have mean 0 and standard deviation 1.</p>
<pre class="r"><code>scale01 &lt;- function(x) (x-mean(x))/sd(x)
ru_sub &lt;-  ru_sub %&gt;%
  mutate_all(funs(scale01)) 

ru_sub_dt &lt;- ru_sub %&gt;% mutate(date=ru$date)
p1 &lt;- ggplot(ru_sub_dt, aes(x=date, y=AUD)) + geom_line()
p2 &lt;- ggplot(ru_sub_dt, aes(x=date, y=EUR)) + geom_line()
p3 &lt;- ggplot(ru_sub_dt, aes(x=date, y=JPY)) + geom_line()
p4 &lt;- ru_sub_dt %&gt;% select(date, AUD, EUR, JPY) %&gt;%
  gather(curr, value, -date) %&gt;%
  ggplot(aes(x=date, y=value, colour=curr, group=curr)) + 
    geom_line() + theme(legend.position=&quot;none&quot;) +
  scale_colour_brewer(palette=&quot;Dark2&quot;)
grid.arrange(p1, p2, p3, p4, ncol=2)</code></pre>
<p><img src="lecture9b_networks_files/figure-html/unnamed-chunk-9-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<div id="section-compute-distances-between-all-pairs-of-currencies" class="section level3">
<h3>Compute distances between all pairs of currencies</h3>
<p>Euclidean distance is used to compute similarity between all pairs of currencies.</p>
<p><span class="math inline">\(d_{ij} = \sqrt{\sum_{i=1}^{t}{(C_{1i}-C_{2i})^2}}\)</span></p>
<pre class="r"><code># Compute distance between currencies
# Need to transpose! Turn matrix around, rows &lt;--&gt; columns
ru_sub_t &lt;- t(ru_sub)
ru_sub_t &lt;- data.frame(ru_sub_t)
d &lt;- as.matrix(dist(ru_sub_t, diag=TRUE, upper=TRUE))
colnames(d) &lt;- as.factor(colnames(ru_sub))
rownames(d) &lt;- as.factor(colnames(ru_sub))
quantile(d, probs=c(0, 0.25, 0.5, 0.75, 1))
##        0%       25%       50%       75%      100% 
##  0.000000  8.207479 11.046398 14.391574 21.223676</code></pre>
<p>NOTE: A distance matrix is the inverse of an association matrix. With a distance matrix close to 0 means the pair are most similar. For an association matrix far from zero means the pair are close. Either can be used to generate a network.</p>
</div>
</div>
<div id="section-make-the-network" class="section level2">
<h2>Make the network</h2>
<div id="section-gather-the-data-into-long-form-and-filter-based-on-similarity" class="section level3">
<h3>Gather the data into long form, and filter based on similarity</h3>
<p>Here only the pairs of currencies who are closer than ‚Äú4‚Äù to each other are kept.</p>
<pre class="r"><code>d_zero &lt;- d
d_zero_tbl &lt;- d_zero %&gt;% 
  as_tibble() %&gt;%
  mutate(curr1=rownames(d_zero)) %&gt;%
  gather(curr2, dst, -curr1) %&gt;%
  filter(dst&lt;3) %&gt;%
  filter(curr1 != curr2)</code></pre>
</div>
<div id="section-network-laid-out" class="section level3">
<h3>Network laid out</h3>
<pre class="r"><code># Make network
library(geomnet)
set.seed(10052016)
ggplot(data = d_zero_tbl, aes(from_id = curr1, to_id = curr2)) +
  geom_net(layout.alg = &quot;kamadakawai&quot;,
    size = 2, labelon = TRUE, vjust = -0.6, ecolour = &quot;grey60&quot;,
    directed =FALSE, fontsize = 3, ealpha = 0.5) +
    #xlim(c(-0.05, 1.05)) +
    theme_net() +
    theme(legend.position = &quot;bottom&quot;)</code></pre>
<p><img src="lecture9b_networks_files/figure-html/unnamed-chunk-12-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<div id="section-your-turn-1" class="section level3">
<h3>Your turn</h3>
<p>Make a plot of the AUD vs the SGD (using the standardised units). Do they look like they are trending together as suggested by the network?</p>
<pre class="r"><code>p1 &lt;- ggplot(ru_sub_dt, aes(x=date, y=AUD)) + geom_line()
p2 &lt;- ggplot(ru_sub_dt, aes(x=date, y=SGD)) + geom_line()
p3 &lt;- ggplot(ru_sub_dt, aes(x=date, y=NZD)) + geom_line()
p4 &lt;- ru_sub_dt %&gt;% select(date, AUD, SGD, NZD) %&gt;%
  gather(curr, value, -date) %&gt;%
  ggplot(aes(x=date, y=value, colour=curr, group=curr)) + 
    geom_line() + #theme(legend.position=&quot;none&quot;) +
  scale_colour_brewer(palette=&quot;Dark2&quot;)
grid.arrange(p1, p2, p3, p4, ncol=2)</code></pre>
</div>
</div>
<div id="section-class-network" class="section level2">
<h2>Class network</h2>
<p>Because we collected information on what you most needed help with, we can use this information in the network display too.</p>
<p>We‚Äôd generally be interesting to know if there are some groups that tend to all need help on the same things, or if there are groups where each person needs help on different things so they are complementary.</p>
<p>Here we use the same network layout, and colour nodes by the topic identified as getting help on. We can see most of the class needs help on R.</p>
<pre class="r"><code>class &lt;- read_csv(&quot;data/class_network.csv&quot;)
# Make variables to indicate help topics
class &lt;- class %&gt;% 
  mutate(R = ifelse(str_detect(type, &quot;A&quot;), &quot;yes&quot;, &quot;no&quot;)) %&gt;%
  mutate(math = ifelse(str_detect(type, &quot;B&quot;), &quot;yes&quot;, &quot;no&quot;)) %&gt;%
  mutate(stat = ifelse(str_detect(type, &quot;C&quot;), &quot;yes&quot;, &quot;no&quot;)) %&gt;%
  mutate(model = ifelse(str_detect(type, &quot;D&quot;), &quot;yes&quot;, &quot;no&quot;)) %&gt;%
  mutate(plot = ifelse(str_detect(type, &quot;E&quot;), &quot;yes&quot;, &quot;no&quot;)) %&gt;%
  mutate(miss = ifelse(str_detect(type, &quot;F&quot;), &quot;yes&quot;, &quot;no&quot;)) %&gt;%
  mutate(assign = ifelse(str_detect(type, &quot;G&quot;), &quot;yes&quot;, &quot;no&quot;)) %&gt;%
  mutate(lab = ifelse(str_detect(type, &quot;H&quot;), &quot;yes&quot;, &quot;no&quot;)) %&gt;%
  mutate(lang = ifelse(str_detect(type, &quot;I&quot;), &quot;yes&quot;, &quot;no&quot;)) %&gt;%
  mutate(support = ifelse(str_detect(type, &quot;J&quot;), &quot;yes&quot;, &quot;no&quot;)) %&gt;%
  mutate(midterm = ifelse(str_detect(type, &quot;K&quot;), &quot;yes&quot;, &quot;no&quot;)) 

set.seed(20190508)
ggplot(data = class, aes(from_id = s1.name, to_id = s2.name, colour=R)) +
  geom_net(layout.alg = &quot;kamadakawai&quot;,
    size = 2, labelon = TRUE, 
    fontsize = 3, vjust = -0.6, 
    ecolour = &quot;grey60&quot;, ealpha = 0.5, directed = TRUE, 
    arrow=arrow(angle=10, length=unit(0.3, &quot;cm&quot;), type=&quot;open&quot;)) +
  scale_colour_brewer(palette=&quot;Dark2&quot;, na.value=&quot;grey80&quot;) +
    theme_net() </code></pre>
<p><img src="lecture9b_networks_files/figure-html/unnamed-chunk-14-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<div id="section-share-and-share-alike" class="section level2">
<h2>Share and share alike</h2>
<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>. 
<script type="application/shiny-prerendered" data-context="server-start">
library(learnr)
library(knitr)
knitr::opts_chunk$set(echo = TRUE,   
                      message = FALSE,
                      warning = FALSE,
                      collapse = TRUE,
                      fig.height = 6,
                      fig.width = 6,
                      fig.align = "center",
                      cache = FALSE)
tutorial_html_dependency()
library(tidyverse)
</script>
 
<script type="application/shiny-prerendered" data-context="server">
learnr:::register_http_handlers(session, metadata = NULL)
</script>
 <!--html_preserve-->
<script type="application/shiny-prerendered" data-context="dependencies">
{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.15"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootstrap"]},{"type":"character","attributes":{},"value":["3.3.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/bootstrap"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["viewport"]}},"value":[{"type":"character","attributes":{},"value":["width=device-width, initial-scale=1"]}]},{"type":"character","attributes":{},"value":["js/bootstrap.min.js","shim/html5shiv.min.js","shim/respond.min.js"]},{"type":"character","attributes":{},"value":["css/cerulean.min.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.15"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["pagedtable"]},{"type":"character","attributes":{},"value":["1.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/pagedtable-1.1"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["js/pagedtable.js"]},{"type":"character","attributes":{},"value":["css/pagedtable.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.15"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["highlightjs"]},{"type":"character","attributes":{},"value":["9.12.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/highlightjs"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["highlight.js"]},{"type":"character","attributes":{},"value":["textmate.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.15"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.9.2.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.9.2.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.9.2.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-format"]},{"type":"character","attributes":{},"value":["0.9.2.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmarkdown/templates/tutorial/resources"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-format.js"]},{"type":"character","attributes":{},"value":["tutorial-format.css","rstudio-theme.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["jquery"]},{"type":"character","attributes":{},"value":["1.11.3"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/jquery"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["jquery.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.15"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["font-awesome"]},{"type":"character","attributes":{},"value":["5.1.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["rmd/h/fontawesome"]}]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["css/all.css","css/v4-shims.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["rmarkdown"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["1.15"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["bootbox"]},{"type":"character","attributes":{},"value":["4.4.0"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/bootbox"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["bootbox.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["localforage"]},{"type":"character","attributes":{},"value":["1.5"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/localforage"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["localforage.min.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial"]},{"type":"character","attributes":{},"value":["0.9.2.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial.js"]},{"type":"character","attributes":{},"value":["tutorial.css"]},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-autocompletion"]},{"type":"character","attributes":{},"value":["0.9.2.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-autocompletion.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","version","src","meta","script","stylesheet","head","attachment","package","all_files","pkgVersion"]},"class":{"type":"character","attributes":{},"value":["html_dependency"]}},"value":[{"type":"character","attributes":{},"value":["tutorial-diagnostics"]},{"type":"character","attributes":{},"value":["0.9.2.1"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["file"]}},"value":[{"type":"character","attributes":{},"value":["lib/tutorial"]}]},{"type":"NULL"},{"type":"character","attributes":{},"value":["tutorial-diagnostics.js"]},{"type":"NULL"},{"type":"NULL"},{"type":"NULL"},{"type":"character","attributes":{},"value":["learnr"]},{"type":"logical","attributes":{},"value":[true]},{"type":"character","attributes":{},"value":["0.9.2.1"]}]}]}
</script>
<!--/html_preserve-->
<!--html_preserve-->
<script type="application/shiny-prerendered" data-context="execution_dependencies">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["packages","version"]},"class":{"type":"character","attributes":{},"value":["data.frame"]},"row.names":{"type":"integer","attributes":{},"value":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87]}},"value":[{"type":"character","attributes":{},"value":["assertthat","backports","base","broom","cellranger","cli","coda","colorspace","compiler","crayon","data.table","datasets","digest","dplyr","ellipsis","emo","evaluate","forcats","generics","geomnet","ggplot2","glue","graphics","grDevices","grid","gridExtra","gtable","haven","highr","hms","htmltools","htmlwidgets","httpuv","httr","jsonlite","knitr","labeling","later","lattice","lazyeval","learnr","lifecycle","lubridate","magrittr","markdown","methods","mime","modelr","munsell","network","nlme","pillar","pkgconfig","plotly","promises","purrr","R6","RColorBrewer","Rcpp","readr","readxl","rlang","rmarkdown","rprojroot","rstudioapi","rvest","scales","shiny","sna","statnet.common","stats","stringi","stringr","tibble","tidyr","tidyselect","tidyverse","tools","utils","vctrs","viridisLite","withr","xfun","xml2","xtable","yaml","zeallot"]},{"type":"character","attributes":{},"value":["0.2.1","1.1.5","3.6.1","0.5.2","1.1.0","1.1.0","0.19-3","1.4-1","3.6.1","1.3.4","1.12.2","3.6.1","0.6.21","0.8.3","0.3.0","0.0.0.9000","0.14","0.4.0","0.0.2","0.2.0","3.2.1","1.3.1.9000","3.6.1","3.6.1","3.6.1","2.3","0.3.0","2.1.1","0.8","0.5.1","0.3.6","1.3","1.5.2","1.4.1","1.6","1.25","0.3","0.8.0","0.20-38","0.2.2","0.9.2.1","0.1.0","1.7.4","1.5","1.1","3.6.1","0.7","0.1.5","0.5.0","1.15","3.1-141","1.4.2","2.0.3","4.9.0","1.0.1","0.3.2","2.4.0","1.1-2","1.0.2","1.3.1","1.3.1","0.4.0","1.15","1.3-2","0.10","0.3.4","1.0.0","1.3.2","2.4","4.3.0","3.6.1","1.4.3","1.4.0","2.1.3","1.0.0","0.2.5","1.2.1","3.6.1","3.6.1","0.2.0","0.3.0","2.1.2","0.9","1.2.2","1.8-4","2.2.0","0.1.0"]}]}]}
</script>
<!--/html_preserve-->
</div>
</div>

</div> <!-- topics -->

<div class="topicsContainer">
<div class="topicsPositioner">
<div class="band">
<div class="bandContent topicsListContainer">

<!-- begin doc-metadata -->
<div id="doc-metadata">
<h2 class="title toc-ignore" style="display:none;">ETC1010: Data Modelling and Computing</h2>
<h4 class="author"><em>Professor Di Cook, EBS, Monash U.</em></h4>
</div>
<!-- end doc-metadata -->

</div> <!-- bandContent.topicsListContainer -->
</div> <!-- band -->
</div> <!-- topicsPositioner -->
</div> <!-- topicsContainer -->


</div> <!-- bandContent page -->
</div> <!-- pageContent band -->




<script>
// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});
</script>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>

</html>
